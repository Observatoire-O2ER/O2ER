---
import BaseLayout from "../layouts/BaseLayout.astro";
import NavBar from "../components/NavBar.astro";
import Footer from "../components/Footer.astro";
---

<BaseLayout title="Contact — O2ER">
  <Fragment slot="nav"><NavBar /></Fragment>

  <h1>Contact</h1>
  <p>Pour contacter O2ER, utilisez le formulaire ci-dessous :</p>

  <form action="https://formsubmit.co/observatoire.o2er@gmail.com" method="POST">
  
    <!-- Sujet du mail envoyé -->
    <input type="hidden" name="_subject" value="Nouveau message depuis le site O₂ER">
  
    <!-- Désactive le captcha FormSubmit -->
    <input type="hidden" name="_captcha" value="false">
  
    <!-- Formulaire plus lisible dans l'email -->
    <input type="hidden" name="_template" value="table">
  
    <!-- Redirection après envoi (optionnel) -->
    <input type="hidden" name="_next" value="https://observatoire-o2er.github.io/O2ER/contact/success/">
  
    <div class="form-field">
      <label for="name">Nom :</label>
      <input id="name" type="text" name="name" required />
    </div>
  
    <div class="form-field">
      <label for="email">Email :</label>
      <input id="email" type="email" name="email" required />
    </div>
  
    <div class="form-field">
      <label for="message">Message :</label>
      <textarea id="message" name="message" rows="6" required></textarea>
    </div>
  
    <button type="submit">Envoyer</button>
  </form>


  <Fragment slot="footer"><Footer /></Fragment>
</BaseLayout>

<style>
  form {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    max-width: 450px;
  }

  .form-field {
    display: flex;
    flex-direction: column;
  }

  label {
    font-weight: 600;
    margin-bottom: 4px;
  }

  input, textarea {
    padding: 8px;
    font-size: 1rem;
    border: 1px solid #999;
    border-radius: 4px;
  }

  button {
    padding: 10px 16px;
    background: #0b0f1a;
    color: white;
    border: none;
    border-radius: 4px;
    width: fit-content;
    cursor: pointer;
  }

  button:hover {
    opacity: 0.8;
  }
</style>
